{% extends 'base.html' %}
{% block title %}Most Frequently Sold Products â€“ Newark IT Store{% endblock %}

{% block content %}
  <h1>Most Frequently Sold Products</h1>

  <!-- Date-range filter form -->
  <form method="get" class="filter-form" style="margin-bottom:1rem;">
    <label>From:
      <input type="date" name="start_date" value="{{ filters.start }}">
    </label>
    <label>To:
      <input type="date" name="end_date" value="{{ filters.end }}">
    </label>
    <button type="submit" class="btn">Apply</button>
  </form>

  <table>
    <thead>
      <tr><th>Product ID</th><th>Name</th><th>Total Sold</th></tr>
    </thead>
    <tbody>
      {% for r in results %}
      <tr>
        <td>{{ r.PID }}</td>
        <td>{{ r.PName }}</td>
        <td>{{ r.total_sold }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
